name: Enhanced Daily Contributions
on:
  schedule:
    - cron: '0 */12 * * *'
  workflow_dispatch:

jobs:
  make-contribution:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
      issues: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Get current date info
        id: date
        run: |
          echo "day=$(date +'%d')" >> $GITHUB_OUTPUT
          echo "month=$(date +'%m')" >> $GITHUB_OUTPUT
          echo "year=$(date +'%Y')" >> $GITHUB_OUTPUT

      - name: Generate daily content
        run: |
          #!/bin/bash
          topics=(
            "AI and Machine Learning" 
            "Cloud Computing Strategies" 
            "Web Development Trends" 
            "Data Science Techniques" 
            "Cybersecurity Best Practices"
          )

          current_date=$(date +'%Y-%m-%d')
          day_number=$(date +'%d')

          echo -e "\n\n## Contribution for $current_date" >> README.md

          for ((i=1; i<=day_number; i++)); do
            random_topic=${topics[$RANDOM % ${#topics[@]}]}
            echo "- Daily study topic: $random_topic" >> README.md
          done

      # [باقی مراحل مشابه نسخه قبل]
